<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Polymer Starter Kit" />
  <title>Polymer Starter Kit</title>
  <!-- Place favicon.ico in the `app/` directory -->

  <!-- Chrome for Android theme color -->
  <meta name="theme-color" content="#303F9F">

  <!-- Web Application Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- Tile color for Win8 -->
  <meta name="msapplication-TileColor" content="#3372DF">

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="PSK">
  <link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Polymer Starter Kit">
  <link rel="apple-touch-icon" href="images/touch/apple-touch-icon.png">

  <!-- Tile icon for Win8 (144x144) -->
  <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild-->

  <!-- build:js bower_components/webcomponentsjs/webcomponents-lite.min.js -->
  <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <!-- endbuild -->

  <!-- will be replaced with elements/elements.vulcanized.html -->
  <link rel="import" href="elements/elements.html">
  <!-- endreplace-->
  <style is="custom-style">
    body{
      text-align: center;
      background: var(--app-background-color);
    }
    paper-toolbar{
      background: var(--default-primary-color);
    }
    hacker-news{
      border-radius: 5px;
    }
    /* Fix the toolbar height */
    #main-toolbar{
      height: 110px;
    }
    #account-info{
      height: 110px;
      margin: 0;
      background: var(--default-primary-color);
    }
    #side-panel{
      width: 250px;
    }
    paper-tabs{
      background-color: var(--dark-primary-color);
      color: #fff;
    }
    paper-icon-item{
      cursor: pointer;
    }
    /deep/ a{
      text-decoration: none;
      color: var(--default-primary-color);
    }
    /deep/ paper-button{
      color: var(--default-primary-color);
    }
  </style>
</head>

<body unresolved class="fullbleed layout vertical">
  <span id="browser-sync-binding"></span>
  <template is="dom-bind" id="app">

    <paper-drawer-panel force-narrow>
      <!-- Sidebar -->
      <paper-header-panel id = "side-panel" drawer>
        <div id = "account-info">
          <!-- Fill in with basic accont info (name, karma, etc)  -->
        </div>
        <paper-menu>
          <paper-icon-item>
            <iron-icon icon="icons:book" item-icon></iron-icon>
            View Hacker News
          </paper-icon-item>
          <paper-icon-item>
            <iron-icon icon="editor:mode-edit" item-icon></iron-icon>
            Post
          </paper-icon-item>
          <paper-icon-item>
            <iron-icon icon="icons:settings" item-icon></iron-icon>
            Settings
          </paper-icon-item>
        </paper-menu>
      </paper-header-panel>
      <!-- Main app -->
      <paper-scroll-header-panel class="flex" fixed main>
        <!-- Main toolbar -->
        <paper-toolbar class = "medium-tall" id = "main-toolbar">

          <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
          <div class="title">Hacker News</div>
          <paper-icon-button icon="info"      on-click="showAbout"></paper-icon-button>
          <paper-icon-button icon="refresh"   on-click="refresh"></paper-icon-button>
          <paper-icon-button icon="more-vert" on-click=""></paper-icon-button>

          <!-- Tabs bar -->
          <paper-tabs class = "bottom fit" selected="{{selected}}" attr-for-selected="name">
            <paper-tab name = "topStories" on-click = "topStories">Top</paper-tab>
            <paper-tab name = "newStories" on-click = "newStories">New</paper-tab>
            <paper-tab name = "showHN"     on-click = "showHN">Show</paper-tab>
            <paper-tab name = "askHN"      on-click = "askHN">Ask</paper-tab>
            <paper-tab name = "jobStories" on-click = "jobStories">Jobs</paper-tab>
          </paper-tabs>

        </paper-toolbar>

        <!-- Stories list -->
        <hacker-news id = "hn"></hacker-news>

        <!-- HIDDEN UI ELEMENTS -->
        <about-dialog id = "about"></about-dialog>

       </paper-scroll-header-panel>
    </paper-drawer-panel>


  <script>
    var $scope = document.querySelector("#app");
    var hn = document.querySelector("#hn");

    // set the selected index
    $scope.selected = "topStories";

    window.addEventListener('resize', function(e){
      hn.style.height = e.target.innerHeight - 100 + 'px';
    })

    $scope.refresh = function(){
      window['$scope'][$scope.selected]();
    }

    $scope.showAbout = function(){
      $scope.$.about.open();
    }

    $scope.topStories = function(){
      hn.topStories();
    }

    $scope.newStories = function(){
      hn.newStories();
    }

    $scope.showHN = function(){
      hn.showHN();
    }

    $scope.askHN = function(){
      hn.askHN();
    }

    $scope.jobStories = function(){
      hn.jobStories();
    }

  </script>

  </template>

  <!-- build:js scripts/app.js -->
  <script src="scripts/app.js"></script>
  <!-- endbuild-->
</body>

</html>
